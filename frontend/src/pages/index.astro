---
import About from '@/components/About.astro';
import Cta from '@/components/cta.astro';
import Dynamic from '@/components/Dynamic.astro';
import Hero from '@/components/hero.astro';
import Services from '@/components/Services.astro';
import MainLayout from '@/layouts/MainLayout.astro';
import { fetchStrapiData } from '@/queries/strapiQueries';

const data = await fetchStrapiData('/home-page');
const { title, description, hero, about, services, cta, bottomCTA } = data;
---

<MainLayout
  title={`RPM Construction Ltd. | ${title}`}
  description={description}
>
  <Hero hero={hero} />
  <Services
    services={services.services}
    title={services.title}
    subtitle={services.subtitle}
  />
  <Cta heading={cta.heading} subHeading={cta.subHeading} link={cta.link} />
  <About
    about={about.about}
    image={about.image}
    title={about.title}
    subtitle={about.subtitle}
  />
  <Dynamic bottomCTA={bottomCTA} />
</MainLayout>
