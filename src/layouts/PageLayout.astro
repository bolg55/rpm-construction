---
import type { Post } from '@/interfaces/blog-interface';
import MainLayout from './MainLayout.astro';
import Cta from '@/components/cta.astro';
import BackgroundStyle from '@/components/ui/background-style.astro';
import Sectionhead from '@/components/sectionhead.astro';
import Container from './Container.astro';

interface Props {
  title: string;
  description: string;
  image?: { src: string; alt: string };
  frontmatter?: Post;
  robots?: boolean;
  subtitle: string;
  pageTitle: string;
  whiteBG?: boolean;
}

const {
  title,
  description,
  image,
  frontmatter,
  robots,
  subtitle = 'Subtitle',
  pageTitle = 'Page Title',
  whiteBG,
} = Astro.props;

const pathname = Astro.url.pathname;
---

<MainLayout {title} {description} {image} {frontmatter} {robots}>
  <BackgroundStyle>
    <Container>
      <Sectionhead>
        <Fragment slot='subtitle'>{subtitle}</Fragment>
        <Fragment slot='title'>{pageTitle}</Fragment>
      </Sectionhead>
      <slot />
    </Container>
  </BackgroundStyle>
  {pathname !== '/contact' && <Cta class={whiteBG && 'bg-white'} />}
</MainLayout>
